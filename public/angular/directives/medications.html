<div ng-controller="MedicationsCtrl">
	<h2>Medications<hr></h2>
	<div class="pull-right">
		<button class="btn btn-primary btn-lg"
			ng-click="addMedForm = true"
			ng-hide="addMedForm">
			Add Medication
		</button>
	</div>
	<table class="table" ng-hide="addMedForm" ng-show="medications">
		<thead>
			<tr>
				<th>Name</th>
				<th>Dosage</th>
				<th>Requirements</th>
				<th>Action</th>
			</tr>
		</thead>
		<tbody>
			<tr ng-repeat="medication in medications"
				ng-hide="edit">
				<td>{{ medication.name }}</td>
				<td>{{ medication.dosage }} every {{ medication.dosage_time }}</td>
				<td>{{ medication.requirements }}</td>
				<td>
					<a class="btn btn-info btn-lg"
						href="#/medications/{{ medication.id }}/modify">Edit</a>
					<a class="btn btn-default btn-lg"
						href="#/medications/{{ medication.id }}">View</a>
				</td>
			</tr>
		</tbody>
	</table>
	<form role="form" ng-show="addMedForm">
		<div class="form-group">
			<label for="medicationName">Medication Name</label>
			<input type="text" class="form-control" id="medicationName" 
				ng-model="new_medication.name" 
				placeholder="e.g. Lisinopril">
		</div>
		<div class="form-group">
			<label for="medicationDosage">Dosage</label>
			<input type="text" class="form-control" id="medicationDosage"
				ng-model="new_medication.dosage" 
				placeholder="e.g. 100 mg, 200 mg, etc.">
		</div>
		
		<div class="form-group">
			<label for="medicationDosageTime">Take Every: </label>
				<select ng-model="new_medication.dosage_time">
					<option value="Morning">Every Morning</option>
					<option value="Afternoon">Every Afternoon</option>
					<option value="Night">Every Night</option>
					<option value="As Needed">As Needed</option>
				</select>
		</div>
		
		<label for="medicationRequirements">Requirements</label>
		<textarea class="form-control" rows="3" 
			id="medicationRequirements" 
			ng-model="new_medication.requirements" 
			placeholder="e.g. Take 3 times with or without food.">
		</textarea>

		<br/>
		<button class="btn btn-success btn-lg" 
			ng-click="addMed(new_medication);
				addMedForm = false">Add</button>
		<button class="btn btn-default btn-lg"
			ng-click="addMedForm = false">Cancel</button>
	</form>
</div>